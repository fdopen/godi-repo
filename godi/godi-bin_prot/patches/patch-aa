--- ./config/arch.sh
+++ ./config/arch.sh
@@ -9,7 +9,14 @@
 
 OCAMLC="$1"
 
-if $OCAMLC -ccopt -E -c config/test.c | grep -q ARCH_SIXTYFOUR_IS_DEFINED; then
+wsys="$(uname -s || echo "no")"
+case "$wsys" in
+    CYGWIN*)
+        OCAMLC="$(cygpath -m "$OCAMLC")"
+        ;;
+esac
+
+if "$OCAMLC" -ccopt -E -c config/test.c | grep -q ARCH_SIXTYFOUR_IS_DEFINED; then
     arch_sixtyfour=true
 else
     arch_sixtyfour=false
